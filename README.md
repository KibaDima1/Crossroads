# Crossroads

Что еще деделать:
1. хочется добавить нормальный поставщик данных, не по таймеру плюсовать или минусовать счетчик;
2. Добавить нормальную обработку ошибок, а не местами и чуть-чуть;
3. Сделать переход из состояния в состояние более прозрачным (хотя бы разбить на функции);
4. Убрать while(true). Добавить зависимость от глобальной переменной, которая объявляется в main или какое-то условие. 
while(true зло и может загрузить процессор на сто процентов);
5. Добавить логирование;
6. Сделать нормальную визуальную систему отладки (добавить API и отрисовать где-то на вебке)
7. Избавился бы от функции sleep, но пока что очерень событий не успевает сделать pop

Очень хотел сделать все через eventPoll и через callBacks, так как достаточно больно отлаживаться и все равно большой страх, что работа не контролируется

События шлют только светофоры в зеленом состоянии.
Красные пытаются переключиться, так как им надо, а зеленых все устраивает.
Перекресток поделен на три части (одна группа светофоров для машин, вторая группа светофоров для машин, светофоры для людей).
По правилу, одна из групп зеленая, две другие красные.